<%= javascript_include_tag :products %>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<h1>Cart</h1>
 
<div class="shopping-cart">
 
  <div class="column-labels">
    <label class="product-image">Image</label>
    <label class="product-details">Product</label>
    <label class="product-price">Price</label>
    <label class="product-quantity">Quantity</label>
  </div>
 	
 	<% @products.each do |product| %> 
	  <div class="product">
	    <div class="product-image">
	    	<img src="/assets/logo.png">
	    </div>
	    <div class="product-details">
	      <div class="product-title"> <%= product.item %> </div>
	    </div>
	    <div class="product-price"> <%= product.price %> </div>
	    <div class="product-quantity">
	      <input id="qt-<%=product.id%>" type="number" value="0" min="0">
	    </div>
	   	<div class="product-add">
	      <button id="btn-<%=product.id%>" class="btn btn-success btn-sm" onclick="addToCart(<%= product.id%>)">ADD</button>
	    </div>
	    <input type="hidden" id="product_id" value= <%= product.id %> />
	  </div>
  <% end %>
 
  <div class="totals" id="final_cart" style="display:none;">
    <div class="totals-item">
      <label>Subtotal</label>
      <div class="totals-value" id="cart-subtotal">0</div>
    </div>
    <div class="totals-item">
     	<label>Discount price</label>
      <div class="totals-value" id="discount">0</div>
    </div>
    <div class="totals-item">
     	<label>Additial discount on total purchase</label>
      <div class="totals-value" id="additial-discount">0</div>
    </div>
    <div class="totals-item totals-item-total">
      <label>Grand Total</label>
      <div class="totals-value" id="cart-total">0</div>
    </div>
  </div>
  <div id="flash">Item successfully added to your cart</div>
  <button class="checkout" onclick="paymentDetails()">Billing Details</button>
  <button class="clear-checkout" onclick="window.location.reload();">Clear Cart</button>
</div>